#!/usr/bin/env bash
###############################################################################
# utilities
###############################################################################

function checkvar() {
    VAR=${1}
    echo "${VAR}=${!VAR}"
}

###############################################################################
# print info
###############################################################################
echo "start: $(date)"
echo "hostname: $(hostname)"
echo "pwd: $(pwd)"
ls -lha ./

###############################################################################
# arguments
###############################################################################
input_file_lfn=${1}
output_file=${2}

checkvar input_file_lfn
checkvar output_file

###############################################################################
# setup
###############################################################################
CMSSW_VERSION=CMSSW_12_5_0_pre4
source /cvmfs/cms.cern.ch/cmsset_default.sh
cmsrel ${CMSSW_VERSION}
cd ${CMSSW_VERSION}/src
eval `scramv1 runtime -sh`
git-cms-merge-topic slowmoyang:ge21-me21-seg-reco__from-CMSSW_12_5_0_pre4
scram b
cd -

checkvar SCRAM_ARCH
checkvar CMSSW_VERSION
checkvar CMSSW_BASE

###############################################################################
# run
###############################################################################
touch ${output_file}.txt

###############################################################################
# report
###############################################################################
echo "end: $(date)"
